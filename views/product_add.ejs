<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Add Product</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="p-4">
    <div class="container">
      <h2 class="mb-3">Add New Product</h2>
      <form id="productForm">
        <div class="mb-3">
          <label class="form-label">Product Name</label>
          <input type="text" class="form-control" name="name" required />
        </div>

        <div class="mb-3">
          <label class="form-label">Color</label>
          <input type="text" class="form-control" name="color" required />
        </div>

        <div class="mb-3">
          <label class="form-label">Company</label>
          <input type="text" class="form-control" name="company" required />
        </div>

        <button type="submit" class="btn btn-primary">Add Product</button>
      </form>

      <div id="responseMsg" class="mt-3 text-success fw-bold"></div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      $("#productForm").submit(function (e) {
        e.preventDefault();

        const formData = {
          name: $('input[name="name"]').val(),
          color: $('input[name="color"]').val(),
          company: $('input[name="company"]').val(),
        };

        $.ajax({
          type: "POST",
          url: "/products", // url route add product
          data: JSON.stringify(formData),
          contentType: "application/json",
          success: function (response) {
            $("#responseMsg").text(" " + response); // display success message
            $("#productForm")[0].reset();
          },
          error: function () {
            $("#responseMsg")
              .text(" Failed to add product")
              .addClass("text-danger");
          },
        });
      });
    </script>
  </body>
</html>
